<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Better Questions</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <header>
    <h1>Better Questions</h1>
    <p>A free tool for generating doctor-ready questions backed by real research.</p>
  </header>

  <!-- ğŸ”” Donation Banner -->
  <section class="donation-banner" style="background:#fff8dc; padding:10px; border:1px solid #ccc; margin-bottom:20px;">
    <p>
      ğŸ’› <strong>Help keep Better Questions free:</strong>
      <a href="https://www.paypal.com/donate/?hosted_button_id=JGAJ3QFCCKNNN" target="_blank">Donate via PayPal</a>
      or <a href="https://your-gofundme-link.com" target="_blank">support us on GoFundMe</a>.
      Every $5 helps keep 1,500+ searches alive.
    </p>
  </section>

  <main>
    <form method="POST">
      <label for="symptoms">Enter up to 3 symptoms (comma-separated):</label><br>
      <input type="text" id="symptoms" name="symptoms" maxlength="200"><br>

      <label for="conditions">Enter up to 3 conditions (comma-separated):</label><br>
      <input type="text" id="conditions" name="conditions" maxlength="200"><br>

      <button type="submit">Submit</button>
    </form>

    <div id="status" style="font-weight: bold; margin-top: 1em;"></div>

    {% if questions %}
      <section class="results">
        <h2>Framed Questions</h2>
        {{ questions[0]|safe }}
      </section>

      <section class="disclaimer">
        {{ questions[1]|safe }}
      </section>

      <section class="plaintext">
        <details>
          <summary>ğŸ” Plain Text Output (for copy/paste)</summary>
          <pre>{{ questions[2] }}</pre>
        </details>
      </section>
    {% endif %}
  </main>

  <hr style="margin-top: 2em;">

  <div style="font-size: 0.9em; color: #444; padding-bottom: 1em;">
    <p style="color: #b30000; font-weight: bold;">
    âš ï¸ Note: If PubMed is temporarily unavailable, this tool will not return results. Please try again later.
    </p>
    <p>
      Follow project updates:<br>
      ğŸ“ <a href="https://charlestools.substack.com" target="_blank">Better Questions on Substack</a><br>
      ğŸ”¦ <a href="https://x.com/BetterToolsAI" target="_blank">@BetterToolsAI on X (Twitter)</a>
    </p>
  </div>

  <footer>
    <p>&copy; 2025 Charles Johnson | <a href="https://bettertoolsfromcharles.com">bettertoolsfromcharles.com</a></p>
  </footer>

  <script>
    const form = document.querySelector("form");
    const statusBox = document.getElementById("status");

    if (form && statusBox) {
      form.addEventListener("submit", () => {
        let steps = [
          "ğŸ” Querying PubMed...",
          "ğŸ“Š Scoring results...",
          "ğŸ§  Framing questions...",
          "âœ… Done. Displaying output..."
        ];
        let i = 0;
        statusBox.textContent = steps[i];
        const interval = setInterval(() => {
          i++;
          if (i < steps.length) {
            statusBox.textContent = steps[i];
          } else {
            clearInterval(interval);
          }
        }, 2500);
      });
    }
  </script>
  <script>
  window.onload = function () {
    const input1 = document.getElementById("symptoms");
    const input2 = document.getElementById("conditions");
    if (input1) input1.value = "";
    if (input2) input2.value = "";
  };
</script>
</body>
</html>
